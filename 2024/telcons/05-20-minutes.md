# TAG Minutes - Week-of 20 May 2024

## Agendas

### Breakout A (Europe / China) - [2024-05-20](https://www.timeanddate.com/worldclock/converter.html?iso=20240520T090000&p1=224&p2=43&p3=136&p4=195&p5=26&p6=33&p7=248&p8=235)
* [HTMLSelectElement showPicker()](https://github.com/w3ctag/design-reviews/issues/900) - @LeaVerou, @matatk
* [Permissions Policy Reporting and Report-Only mode](https://github.com/w3ctag/design-reviews/issues/909) - @torgo, @hadleybeeman
* [Early Design Review: Opener Protections](https://github.com/w3ctag/design-reviews/issues/916) - @torgo, @matatk, @hadleybeeman
* [Updated review of WebNN API](https://github.com/w3ctag/design-reviews/issues/933) - @torgo, @matatk, @maxpassion
* [Issue Triage](https://github.com/w3ctag/design-reviews/issues?q=is%3Aissue+is%3Aopen+label%3A%22Progress%3A+untriaged%22)

### Breakout B (California / Europe)  - [2024-05-20](https://www.timeanddate.com/worldclock/converter.html?iso=20240520T153000&p1=224&p2=43&p3=136&p4=195&p5=26&p6=33&p7=248&p8=235)
* [Entry and Exit Animations](https://github.com/w3ctag/design-reviews/issues/829) - @LeaVerou, @torgo
* [Adding support for High Dynamic Range (HDR) imagery to HTML Canvas](https://github.com/w3ctag/design-reviews/issues/917) - @LeaVerou, @plinss
* [FedCM API extension: Button Mode and User Other Account API](https://github.com/w3ctag/design-reviews/issues/935) - @rhiaro, @plinss
* [FedCM bundle: Continuation API, account labels, custom parameters, scopes](https://github.com/w3ctag/design-reviews/issues/945) - @rhiaro, @plinss

### Breakout C (California / Australia) - [2024-05-20](https://www.timeanddate.com/worldclock/converter.html?iso=20240520T210000&p1=224&p2=43&p3=136&p4=195&p5=26&p6=33&p7=248&p8=235)
* [Specification review for CSS Anchor Positioning](https://github.com/w3ctag/design-reviews/issues/848) - @LeaVerou, @plinss
* [Securing Verifiable Credentials using JOSE and COSE](https://github.com/w3ctag/design-reviews/issues/899) - @hober, @hadleybeeman
* [Early TAG review request for Playout Statistics API for WebAudio](https://github.com/w3ctag/design-reviews/issues/939) - @hober, @matatk
* [Wide review request for Pointer Events Level 3](https://github.com/w3ctag/design-reviews/issues/941) - @LeaVerou, @matatk
* [Web Install API - Cross-Origin](https://github.com/w3ctag/design-reviews/issues/946) - @hober, @LeaVerou
* [Web Translation API](https://github.com/w3ctag/design-reviews/issues/948) - @LeaVerou, @matatk
* [document.caretPositionFromPoint API in shadow DOM scenario](https://github.com/w3ctag/design-reviews/issues/949) - @LeaVerou
* [Conversion to RGB in VideoFrame.copyTo()](https://github.com/w3ctag/design-reviews/issues/951) - @LeaVerou
* [Support Video Chapter in MediaMetadata](https://github.com/w3ctag/design-reviews/issues/952) - @hober
* [CSS calc-size() function](https://github.com/w3ctag/design-reviews/issues/955) - @LeaVerou

### Breakout D (California / Australia) - [2024-05-21](https://www.timeanddate.com/worldclock/converter.html?iso=20240521T220000&p1=224&p2=43&p3=136&p4=195&p5=26&p6=33&p7=248&p8=235)
* [Web Install API - Same Origin](https://github.com/w3ctag/design-reviews/issues/888) - @hober, @LeaVerou
* [Observable API](https://github.com/w3ctag/design-reviews/issues/902) - @hober, @LeaVerou
* [View Transitions: list of types](https://github.com/w3ctag/design-reviews/issues/908) - @hober, @LeaVerou
* [Local Peer-to-Peer API](https://github.com/w3ctag/design-reviews/issues/932) - @LeaVerou, @ylafon, @maxpassion
* [HTMLSelectElement showPicker()](https://github.com/w3ctag/design-reviews/issues/900) - @LeaVerou, @matatk
* [css anchor positioning feedback](https://github.com/w3ctag/meetings/blob/gh-pages/2024/telcons/05-13-minutes.md#specification-review-for-css-anchor-positioning---leaverou-plinss)

### Breakout E (Europe / China) - [2024-05-22](https://www.timeanddate.com/worldclock/converter.html?iso=20240522T070000&p1=224&p2=43&p3=136&p4=195&p5=26&p6=33&p7=248&p8=235)
* [Review Request for Attribution Reporting API](https://github.com/w3ctag/design-reviews/issues/724) - @torgo, @rhiaro, @hadleybeeman
* [Eligibility for autofill](https://github.com/w3ctag/design-reviews/issues/831) - @cynthia, @torgo
* [Specification review for fenced frames](https://github.com/w3ctag/design-reviews/issues/838) - @hober, @rhiaro, @hadleybeeman, @plinss
* [Long Animation Frame API (LoAF)](https://github.com/w3ctag/design-reviews/issues/911) - @hober, @torgo
* [Speculation rules: target_hint field](https://github.com/w3ctag/design-reviews/issues/931) - @torgo


## Minutes

### Breakout A (Europe / China) 

Present: Matthew, Max, Dan

#### [HTMLSelectElement showPicker()](https://github.com/w3ctag/design-reviews/issues/900) - @LeaVerou, @matatk

Matthew: I [pinged them in the WHATWG thread](https://github.com/whatwg/html/issues/9757#issuecomment-2119987209).

*we re-assign to a later breakout - breakout D*

#### [Permissions Policy Reporting and Report-Only mode](https://github.com/w3ctag/design-reviews/issues/909) - @torgo, @hadleybeeman

Dan: *sends a note to Chris Harrelson to see if there has been any update*

#### [Early Design Review: Opener Protections](https://github.com/w3ctag/design-reviews/issues/916) - @torgo, @matatk, @hadleybeeman

*Dan leaves a [note](https://github.com/w3ctag/design-reviews/issues/916#issuecomment-2120064245) on the issue asking if we should close*

#### [Updated review of WebNN API](https://github.com/w3ctag/design-reviews/issues/933) - @torgo, @matatk, @maxpassion

Matthew: Sangwhan gave some feedback - fine but with a concern "allows you to stave the main thread"... been waiting for a write-up.

*we do some research in the explainer*

<blockquote>
We're generally happy with the way this is going. However, in previous discussions on this in the TAG, @cynthia expressed a concern regarding the threading model - that it's possible to ”starve the main thread.“ Sangwhan might be able to provide some further detail on his concern. Is this something you have considered?
</blockquote>

*we agree to ping Sangwhan aysnc and confirm our intuition about his feedback before posting this*

#### feedback on closing attribution reporting API

Matthew: we need to bump to next plenary.

*bumped to next plenary*

#### [css anchor positioning feedback](https://github.com/w3ctag/meetings/blob/gh-pages/2024/telcons/05-13-minutes.md#specification-review-for-css-anchor-positioning---leaverou-plinss)


#### [Issue Triage](https://github.com/w3ctag/design-reviews/issues?q=is%3Aissue+is%3Aopen+label%3A%22Progress%3A+untriaged%22)


### Breakout B (California / Europe)  

Present: Peter, Dan, Lea

Regrets:


#### [Anchor Positioning Feedback](https://github.com/w3ctag/meetings/blob/gh-pages/2024/telcons/05-13-minutes.md#specification-review-for-css-anchor-positioning---leaverou-plinss)

*we discuss this feedback that was drafted last week and re-draft:*

<blockquote>
This looks like a generally useful feature to have, addressing a host of prominent author pain points.

Discussions on blink-dev suggest that there might not be WG consensus on the maturity of the specification. The recently-opened issues also indicate some unresolved questions.

Regarding the design of the feature, our biggest concern is that it focuses on making complex things possible, but doesn't sufficienly make simple things easy. We think the simple cases of a popup that merely shifts or flips its position be always visible should not require a separate `@position-try` rule or writing out the logic, authors should be able to declare susntent and have things Just Work™. Otherwise, this is prone to the same bugs as hand-rolled implementations, it's just that the bugs will now live in CSS, not JS. For example, a popular library for this sort of thing is https://floating-ui.com/ (but there are many more). Notice how [flipping](https://floating-ui.com/docs/flip) and [shifting](https://floating-ui.com/docs/shift) are high level abstractions, rather than something authors have to specify in detail. If these >80% use cases are covered by simple declarations, things like `@position-try` could be reserved for L2, so they can be more fully baked, and informed by actual usage.

Regarding position fallbacks, it currently seems that what triggers a fallback is overflow, with no way to specify additional triggers. Is there planning for authors being able to customize the trigger in the future?

Instead of focusing customizability efforts around niche positioning use cases, we’d love to see more work towards making it possible to specify pointers, which seem so common we worry about the use case coverage of an anchor positioning feature without *some* way to achieve them.

We understand the rationale for using `anchor-name` instead of HTML ids (e.g. scoping, markup edits), but we are concerned that new properties are being added to name elements in (likely) the same way. For example, there is currently `container-name`, which also names an element. Is it common for these names to need different identifiers? If so, would it make sense to have a shorthand (e.g. `name`) of all CSS properties that name an element?

`anchor-scope` does not appear in the explainer(s) and does not appear to feature in the algorithm that finds an anchor.

The [algorithm for finding anchors](https://drafts.csswg.org/css-anchor-position-1/#target) is quite complex. That is not necessarily an issue, internal complexity is often necesary to avoid external (author-facing) complexity, however the motivation needs to be explained more.

Some other notes on the current syntax:
- Properties that are unlikely to ever apply to position schemes beyond anchor should make this clear by being prefixed via `position-anchor-*` (or just `anchor-*`), not just `position-*`.
- `position-visibility` affects visibility, not position. Therefore, we wondered if a `visibility` value may have been more appropriate.
- Why is this layered on top of `position: absolute` and `position: fixed` rather than a new `position: anchor` behavior?
- It's not clear what the implications of using `position: absolute` vs `position: fixed` are. Perhaps the behavior difference would be better handled by an anchor-specific property.

Interactions with shadow DOM are not covered by the explainers (though they are in the specification).

Finally, we're concerned about the status of the explainer relative to the Chromium blog post. In general, we'd like to see an explainer, that starts with articulated user need, as a separate document that is written along side of the spec, and is kept up-to-date as the spec changes. The explainer thereby can become the seed for developer documentation when that's required. See https://tag.w3.org/explainers.
</blockquote>

#### [Entry and Exit Animations](https://github.com/w3ctag/design-reviews/issues/829) - @LeaVerou, @torgo

#### [Adding support for High Dynamic Range (HDR) imagery to HTML Canvas](https://github.com/w3ctag/design-reviews/issues/917) - @LeaVerou, @plinss

#### [FedCM API extension: Button Mode and User Other Account API](https://github.com/w3ctag/design-reviews/issues/935) - @rhiaro, @plinss

#### [FedCM bundle: Continuation API, account labels, custom parameters, scopes](https://github.com/w3ctag/design-reviews/issues/945) - @rhiaro, @plinss


### Breakout C (California / Australia) 

Present: Peter, Tess, Lea, Martin

Regrets:


#### [Specification review for CSS Anchor Positioning](https://github.com/w3ctag/design-reviews/issues/848) - @LeaVerou, @plinss

Tess to read the re-drafted feedback cooked up in breakout B

#### [Securing Verifiable Credentials using JOSE and COSE](https://github.com/w3ctag/design-reviews/issues/899) - @hober, @hadleybeeman

#### [Early TAG review request for Playout Statistics API for WebAudio](https://github.com/w3ctag/design-reviews/issues/939) - @hober, @matatk

#### [Wide review request for Pointer Events Level 3](https://github.com/w3ctag/design-reviews/issues/941) - @LeaVerou, @matatk

#### [Web Install API - Cross-Origin](https://github.com/w3ctag/design-reviews/issues/946) - @hober, @LeaVerou

#### [Web Translation API](https://github.com/w3ctag/design-reviews/issues/948) - @LeaVerou, @matatk

#### [document.caretPositionFromPoint API in shadow DOM scenario](https://github.com/w3ctag/design-reviews/issues/949) - @LeaVerou

#### [Conversion to RGB in VideoFrame.copyTo()](https://github.com/w3ctag/design-reviews/issues/951) - @LeaVerou

#### [Support Video Chapter in MediaMetadata](https://github.com/w3ctag/design-reviews/issues/952) - @hober

#### [CSS calc-size() function](https://github.com/w3ctag/design-reviews/issues/955) - @LeaVerou

<blockquote>

We have several concerns with the design of this function:

  - If `calc-size()` returns a `<length>`, what prevents authors from doing something like `calc( ( calc-size(min-content) + calc-size(max-content) ) / 2 )` which seems to be the very thing it was designed to prevent? If that is invalid, it seems like a footgun, since these lengths are often passed around in variables, so the error will not be immediately obvious. And if it’s invalid, it begs the question, how is this better than making `calc(min-content + max-content / 2)` invalid while `calc(min-content)` or `calc(max-content / 2)` are individually valid.
  - We are concerned with adding a parallel function to CSS that is identical to `calc()` with the only exception being that it supports an intrinsic sizing keyword. We think that simply allowing keywords in `calc()` would have been a better design, even if only one keyword type is supported and it becomes invalid when more than one are used (going from 0 to 1 is still an improvement!). This leaves the door open for supporting more keywords in the future, it means all other math functions that support `<calc-sum>` (such as `clamp()`) also support intrinsic sizing keywords, and does not increase the API surface authors need to learn (especially since we suspect it’s unlikely they would ever hit that restriction).
  - Looking at the (great) [compat analysis](https://github.com/w3c/csswg-drafts/issues/626#issuecomment-2071016522), it seems unclear whether this would be a net negative. As @dbaron points out, in most of these cases the result is either an improvement, or a very slight glitch. We are not sure that the reduction in ergonomics that something like `calc-size()` causes is clearly warranted from this data. But even it were, is introducing a new `calc()` function the best way to address it? E.g. there are other cases where transitions need to customize the interpolation on a value type-specific basis, e.g. color space for `<color>` transitions, perhaps some kind of per-transition/animation opt-in would be more palatable?

  - We have concerns about backward compatability. E.g. if an author specifies `height: calc-size(max-content)` (or `height: calc(max-content)`) then a UA that doesn't support the new behavior loses the `height` property, requiring the author to specify `height` twice (or more: `height: max-content; height: calc(5em * ?) /*approximate*/; height: calc-size(max-content);`)
  - Using a `calc` a function to opt-in to animation behavior doesn't seem readable. A different author seeing `height: calc-size(max-content)` will not necessarily understand the purpose of the function and may want to remove it (resulting in just `height: max-content`), disabling the animation.
  
</blockquote>
  
Response:
  
<blockquote>

We think that `calc-size()` is simply unreadable as a signal of intent.  The purpose of the signal and how it is spelled don't align.  That's a problem when it is a singular opt-in.  Adding alternative opt-in mechanisms is - as you say - poor.  If we were to add something to `transition-behavior`, then that's extra noise. Adding *redundant* opt-in mechanisms (when this is already redundant) is probably worse.

We note that people have explicitly requested animation/transitions in the bustage cases you found.  Your assertion is that it is too disruptive to deliver those animations, despite them being requested explicitly.  We have to accept that there are cases where transitions were specified and JS was used to cover for it not working, so that the result ends up being terrible.

So really what we're talking about is how we're managing this compatibility problem.  We'd like to see the opt-in being disconnected from the functionality so that there is some flexibility in how implementers approach the problem, rather than having it an intrinsic property that is therefore impossible to disengage.  Maybe some browser would prefer to YOLO this one, which we might find to be OK.  Though poor, a separate keyword (on `transition-behavior` and friends) might be better, despite how ugly it is.
    
</blockquote>


### Breakout D (California / Australia) 

Present:

Regrets:


#### [Web Install API - Same Origin](https://github.com/w3ctag/design-reviews/issues/888) - @hober, @LeaVerou

#### [Observable API](https://github.com/w3ctag/design-reviews/issues/902) - @hober, @LeaVerou

#### [View Transitions: list of types](https://github.com/w3ctag/design-reviews/issues/908) - @hober, @LeaVerou

#### [Local Peer-to-Peer API](https://github.com/w3ctag/design-reviews/issues/932) - @LeaVerou, @ylafon, @maxpassion

*Scheduling options for call with the group:*

<blockquote>
  
Sorry for the delay in getting back to you. We'd like to invite you to join one of our breakout calls for the week of the 10th of June:
  
* Breakout C (21:00 UTC, 10 June 2024);
* Breakout D (22:00 UTC, 11 June 2024); or
* Breakout E (07:00 UTC, 12 June 2024) -- this one

/cc @martinthomson

</blockquote>  

*[posted](https://github.com/w3ctag/design-reviews/issues/932#issuecomment-2120052059)*

#### [css anchor positioning feedback](https://github.com/w3ctag/meetings/blob/gh-pages/2024/telcons/05-13-minutes.md#specification-review-for-css-anchor-positioning---leaverou-plinss)

*need clearance from Lea to post this feedback*


#### [HTMLSelectElement showPicker()](https://github.com/w3ctag/design-reviews/issues/900) - @LeaVerou, @matatk

*Note from Breakout A: @matatk [pinged on the WHATWG thread](https://github.com/whatwg/html/issues/9757#issuecomment-2119987209)*

### Breakout E (Europe / China) 

Present: Dan, Matthew, Max

Regrets:


#### [Review Request for Attribution Reporting API](https://github.com/w3ctag/design-reviews/issues/724) - @torgo, @rhiaro, @hadleybeeman

#### [Eligibility for autofill](https://github.com/w3ctag/design-reviews/issues/831) - @cynthia, @torgo
  
*still awaiting feedback*
  
Found these threads (both remain opoen) from other engines:
  
* [WebKit standards position on eligibility for autofill](https://github.com/WebKit/standards-positions/issues/141)

* [Mozilla standards position on eligibility for autofill](https://github.com/mozilla/standards-positions/issues/752)

#### [Specification review for fenced frames](https://github.com/w3ctag/design-reviews/issues/838) - @hober, @rhiaro, @hadleybeeman, @plinss
  
*added pending external feedback label*

#### [Long Animation Frame API (LoAF)](https://github.com/w3ctag/design-reviews/issues/911) - @hober, @torgo

#### [Speculation rules: target_hint field](https://github.com/w3ctag/design-reviews/issues/931) - @torgo

*adding assignments*
  
Matthew: it says "for implementation reasons" and also "we want to get rid of this in future" - so how many people are going to use it given that they want to get rid of it and what does that mean for the dev tools.  When we've looked at others of these we've wanted a bit more detail on when and how it's gonna be deprecated.
  
Dan: links to a fragment of speculation rules explainer but no specific user needs..
  
Dan: [adds comment](https://github.com/w3ctag/design-reviews/issues/931#issuecomment-2124121849) and [Matthew will add another comment](https://github.com/w3ctag/design-reviews/issues/931#issuecomment-2124469074) about deprecation.
  
*also we assign Tess as another reviewer*
    
## Recorded Consensus in Privacy Principles Transition Request

*The TAG supports the Privacy Task Force’s call to issue a transition request for the Privacy Principles to W3C Statement status.*
